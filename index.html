<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Тест на зависимость от гаджетов</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
      color: #fff;
    }

    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      background-color: #0f2027;
      z-index: -1;
    }

    .container {
      position: relative;
      padding: 50px;
      max-width: 600px;
      margin: auto;
      background: rgba(0,0,0,0.5);
      border-radius: 10px;
      margin-top: 50px;
    }

    .question {
      margin-bottom: 20px;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div id="particles-js"></div>
  <div class="container">
    <div id="quiz"></div>
    <button onclick="prevQuestion()">Назад</button>
    <button onclick="nextQuestion()">Далее</button>
    <div id="result"></div>
  </div>

  <script>
    const questions = [
      'Ты часто берешь телефон, просто чтобы «проверить что-то»?',
      'Ты чувствуешь тревогу, когда не можешь найти телефон?',
      'Ты пользуешься гаджетом перед сном или сразу после пробуждения?',
      // Можно добавить ещё до 15 вопросов
    ];

    const form = document.getElementById('quiz');
    const resultDiv = document.getElementById('result');
    let currentQuestion = 0;
    let answers = Array(questions.length).fill(null);

    function renderQuestion(index) {
      form.innerHTML = '';
      const questionDiv = document.createElement('div');
      questionDiv.classList.add('question', 'active');

      const questionText = document.createElement('p');
      questionText.textContent = ${index + 1}. ${questions[index]};
      questionDiv.appendChild(questionText);

      const optionsDiv = document.createElement('div');
      optionsDiv.classList.add('options');

      const options = [
        { text: 'Часто', value: 3 },
        { text: 'Иногда', value: 2 },
        { text: 'Никогда', value: 1 }
      ];

      options.forEach(option => {
        const label = document.createElement('label');
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = 'answer';
        input.value = option.value;
        if (answers[index] == option.value) input.checked = true;
        input.onchange = () => answers[index] = Number(input.value);

        label.appendChild(input);
        label.append(` ${option.text}`);
        optionsDiv.appendChild(label);
        optionsDiv.appendChild(document.createElement('br'));
      });

      questionDiv.appendChild(optionsDiv);
      form.appendChild(questionDiv);
    }

    function nextQuestion() {
      if (answers[currentQuestion] == null) {
        alert('Пожалуйста, выбери ответ.');
        return;
      }
      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        renderQuestion(currentQuestion);
      } else {
        showResult();
      }
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion(currentQuestion);
      }
    }

    function showResult() {
      const score = answers.reduce((a, b) => a + b, 0);
      let message = '';

      if (score <= questions.length * 1.5) {
        message = 'У тебя практически нет зависимости от гаджетов. Продолжай в том же духе!';
      } else if (score <= questions.length * 2.3) {
        message = 'У тебя умеренный уровень зависимости. Стоит немного снизить время за экраном.';
      } else {
        message = 'Похоже, у тебя высокая зависимость. Подумай о цифровом детоксе!';
      }

      resultDiv.innerHTML = <h3>Результат</h3><p>${message}</p>;
    }

    renderQuestion(currentQuestion);
  </script>

  <!-- Подключение particles.js -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script>
    particlesJS('particles-js', {
      "particles": {
        "number": { "value": 60 },
        "color": { "value": "#ffffff" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5 },
        "size": { "value": 3 },
        "line_linked": { "enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.4, "width": 1 },
        "move": { "enable": true, "speed": 3 }
      }
    });
  </script>
</body>
</html>
